<?xml version="1.0" encoding="utf-8"?>
<TcPlcObject Version="1.1.0.1" ProductVersion="3.1.4024.13">
  <POU Name="FB_IO_CARD_BOOL" Id="{7d3d6c59-31c6-482e-8557-fbf6986ba274}" SpecialFunc="None">
    <Declaration><![CDATA[FUNCTION_BLOCK FB_IO_CARD_BOOL

VAR_INPUT
    // Inputs (Individual booleans for each input)
    DiscreteInput1, DiscreteInput2, DiscreteInput3, DiscreteInput4, DiscreteInput5,
    DiscreteInput6, DiscreteInput7, DiscreteInput8, DiscreteInput9, DiscreteInput10,
    DiscreteInput11, DiscreteInput12, DiscreteInput13, DiscreteInput14, DiscreteInput15, DiscreteInput16 : BOOL;

    // Debounce times (Individual debounce times for each input)
    DebounceTime1, DebounceTime2, DebounceTime3, DebounceTime4, DebounceTime5,
    DebounceTime6, DebounceTime7, DebounceTime8, DebounceTime9, DebounceTime10,
    DebounceTime11, DebounceTime12, DebounceTime13, DebounceTime14, DebounceTime15, DebounceTime16 : TIME;

    // Output Inversion Flags (Individual booleans for each output)
    OutputInversion1, OutputInversion2, OutputInversion3, OutputInversion4, OutputInversion5,
    OutputInversion6, OutputInversion7, OutputInversion8, OutputInversion9, OutputInversion10,
    OutputInversion11, OutputInversion12, OutputInversion13, OutputInversion14, OutputInversion15, OutputInversion16 : BOOL;
END_VAR
VAR
    // Internal Variables (Debounced states and timers)
    DebouncedInput1, DebouncedInput2, DebouncedInput3, DebouncedInput4, DebouncedInput5,
    DebouncedInput6, DebouncedInput7, DebouncedInput8, DebouncedInput9, DebouncedInput10,
    DebouncedInput11, DebouncedInput12, DebouncedInput13, DebouncedInput14, DebouncedInput15, DebouncedInput16 : BOOL;

    // Timers for debouncing
    InputTimer1, InputTimer2, InputTimer3, InputTimer4, InputTimer5,
    InputTimer6, InputTimer7, InputTimer8, InputTimer9, InputTimer10,
    InputTimer11, InputTimer12, InputTimer13, InputTimer14, InputTimer15, InputTimer16 : TON;
END_VAR
var_output
    // Outputs (Individual booleans for each output)
    DiscreteOutput1, DiscreteOutput2, DiscreteOutput3, DiscreteOutput4, DiscreteOutput5,
    DiscreteOutput6, DiscreteOutput7, DiscreteOutput8, DiscreteOutput9, DiscreteOutput10,
    DiscreteOutput11, DiscreteOutput12, DiscreteOutput13, DiscreteOutput14, DiscreteOutput15, DiscreteOutput16 : BOOL;
END_VAR

]]></Declaration>
    <Implementation>
      <ST><![CDATA[

// Main Control Method

    // Process each input with debounce and inversion
    IF DiscreteInput1 <> DebouncedInput1 THEN
        InputTimer1(IN := TRUE);  // Start timer when input changes
    ELSE
        InputTimer1(IN := FALSE); // Stop timer if input is stable
    END_IF

    IF InputTimer1.Q THEN
        DebouncedInput1 := DiscreteInput1;  // Accept the debounced input value
    END_IF

    // Apply inversion if necessary
    IF OutputInversion1 THEN
        DiscreteOutput1 := NOT DebouncedInput1;  // Invert the output
    ELSE
        DiscreteOutput1 := DebouncedInput1;     // Set the output based on debounced input
    END_IF

    // Repeat for other inputs and outputs
    IF DiscreteInput2 <> DebouncedInput2 THEN
        InputTimer2(IN := TRUE);
    ELSE
        InputTimer2(IN := FALSE);
    END_IF

    IF InputTimer2.Q THEN
        DebouncedInput2 := DiscreteInput2;
    END_IF

    IF OutputInversion2 THEN
        DiscreteOutput2 := NOT DebouncedInput2;
    ELSE
        DiscreteOutput2 := DebouncedInput2;
    END_IF

    // Continue with the same logic for all inputs and outputs...
    // For inputs 3 to 16, repeat the above steps: debounce, inversion, and output setting.
    // Example for input 3:
    IF DiscreteInput3 <> DebouncedInput3 THEN
        InputTimer3(IN := TRUE);
    ELSE
        InputTimer3(IN := FALSE);
    END_IF

    IF InputTimer3.Q THEN
        DebouncedInput3 := DiscreteInput3;
    END_IF

    IF OutputInversion3 THEN
        DiscreteOutput3 := NOT DebouncedInput3;
    ELSE
        DiscreteOutput3 := DebouncedInput3;
    END_IF

    // Continue for other inputs and outputs in the same way...
]]></ST>
    </Implementation>
    <LineIds Name="FB_IO_CARD_BOOL">
      <LineId Id="42" Count="0" />
      <LineId Id="61" Count="1" />
      <LineId Id="64" Count="55" />
      <LineId Id="9" Count="0" />
    </LineIds>
  </POU>
</TcPlcObject>